{"version":3,"sources":["../../../src/commands/image.tsx"],"names":["image","name","keyCommand","buttonProps","icon","execute","state","api","newSelectionRange","text","selection","state1","setSelectionRange","imageTemplate","selectedText","replaceSelection","start","end","length"],"mappings":";;;;;;;;;AAAA;;AAEA;;AAEO,IAAMA,KAAe,GAAG;AAC7BC,EAAAA,IAAI,EAAE,OADuB;AAE7BC,EAAAA,UAAU,EAAE,OAFiB;AAG7BC,EAAAA,WAAW,EAAE;AAAE,kBAAc;AAAhB,GAHgB;AAI7BC,EAAAA,IAAI,eACF;AAAK,IAAA,KAAK,EAAC,IAAX;AAAgB,IAAA,MAAM,EAAC,IAAvB;AAA4B,IAAA,OAAO,EAAC;AAApC,kBACE;AAAM,IAAA,IAAI,EAAC,cAAX;AAA0B,IAAA,CAAC,EAAC;AAA5B,IADF,CAL2B;AAS7BC,EAAAA,OAAO,EAAE,iBAACC,KAAD,EAAmBC,GAAnB,EAAoC;AAC3C;AACA,QAAMC,iBAAiB,GAAG,+BAAW;AAAEC,MAAAA,IAAI,EAAEH,KAAK,CAACG,IAAd;AAAoBC,MAAAA,SAAS,EAAEJ,KAAK,CAACI;AAArC,KAAX,CAA1B;AACA,QAAMC,MAAM,GAAGJ,GAAG,CAACK,iBAAJ,CAAsBJ,iBAAtB,CAAf,CAH2C,CAI3C;;AACA,QAAMK,aAAa,GAAGF,MAAM,CAACG,YAAP,IAAuB,oCAA7C;AACAP,IAAAA,GAAG,CAACQ,gBAAJ,eAA4BF,aAA5B,QAN2C,CAO3C;;AACAN,IAAAA,GAAG,CAACK,iBAAJ,CAAsB;AACpBI,MAAAA,KAAK,EAAE,IAAIL,MAAM,CAACD,SAAP,CAAiBM,KADR;AAEpBC,MAAAA,GAAG,EAAE,IAAIN,MAAM,CAACD,SAAP,CAAiBM,KAArB,GAA6BH,aAAa,CAACK;AAF5B,KAAtB;AAID;AArB4B,CAAxB","sourcesContent":["import * as React from 'react';\nimport { ICommand, TextState, TextApi } from './';\nimport { selectWord } from '../utils/markdownUtils';\n\nexport const image: ICommand = {\n  name: 'image',\n  keyCommand: 'image',\n  buttonProps: { 'aria-label': 'Add image' },\n  icon: (\n    <svg width=\"12\" height=\"12\" viewBox=\"0 0 20 20\">\n      <path fill=\"currentColor\" d=\"M15 9c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm4-7H1c-.55 0-1 .45-1 1v14c0 .55.45 1 1 1h18c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 13l-6-5-2 2-4-5-4 8V4h16v11z\" />\n    </svg>\n  ),\n  execute: (state: TextState, api: TextApi) => {\n    // Select everything\n    const newSelectionRange = selectWord({ text: state.text, selection: state.selection });\n    const state1 = api.setSelectionRange(newSelectionRange);\n    // Replaces the current selection with the image\n    const imageTemplate = state1.selectedText || \"https://example.com/your-image.png\";\n    api.replaceSelection(`![](${imageTemplate})`);\n    // Adjust the selection to not contain the **\n    api.setSelectionRange({\n      start: 4 + state1.selection.start,\n      end: 4 + state1.selection.start + imageTemplate.length\n    });\n  },\n};\n"]}