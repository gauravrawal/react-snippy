{"ast":null,"code":"var asciiAlpha = require('micromark/dist/character/ascii-alpha');\n\nvar asciiAlphanumeric = require('micromark/dist/character/ascii-alphanumeric');\n\nvar asciiControl = require('micromark/dist/character/ascii-control');\n\nvar markdownLineEnding = require('micromark/dist/character/markdown-line-ending');\n\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation');\n\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace');\n\nvar www = {\n  tokenize: tokenizeWww,\n  partial: true\n};\nvar domain = {\n  tokenize: tokenizeDomain,\n  partial: true\n};\nvar path = {\n  tokenize: tokenizePath,\n  partial: true\n};\nvar punctuation = {\n  tokenize: tokenizePunctuation,\n  partial: true\n};\nvar namedCharacterReference = {\n  tokenize: tokenizeNamedCharacterReference,\n  partial: true\n};\nvar wwwAutolink = {\n  tokenize: tokenizeWwwAutolink,\n  previous: previousWww\n};\nvar httpAutolink = {\n  tokenize: tokenizeHttpAutolink,\n  previous: previousHttp\n};\nvar emailAutolink = {\n  tokenize: tokenizeEmailAutolink,\n  previous: previousEmail\n};\nvar text = {}; // Export hooked constructs.\n\nexports.text = text; // `0`\n\nvar code = 48; // While the code is smaller than `{`.\n\nwhile (code < 123) {\n  text[code] = emailAutolink;\n  code++; // Jump from `:` -> `A`\n\n  if (code === 58) code = 65; // Jump from `[` -> `a`\n  else if (code === 91) code = 97;\n} // `+`\n\n\ntext[43] = emailAutolink; // `-`\n\ntext[45] = emailAutolink; // `.`\n\ntext[46] = emailAutolink; // `_`\n\ntext[95] = emailAutolink; // `h`.\n\ntext[72] = [emailAutolink, httpAutolink];\ntext[104] = [emailAutolink, httpAutolink]; // `w`.\n\ntext[87] = [emailAutolink, wwwAutolink];\ntext[119] = [emailAutolink, wwwAutolink];\n\nfunction tokenizeEmailAutolink(effects, ok, nok) {\n  var self = this;\n  var hasDot;\n  return start;\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (!gfmAtext(code) || !previousEmail(self.previous) || previous(self.events)) {\n      return nok(code);\n    }\n\n    effects.enter('literalAutolink');\n    effects.enter('literalAutolinkEmail');\n    return atext(code);\n  }\n\n  function atext(code) {\n    if (gfmAtext(code)) {\n      effects.consume(code);\n      return atext;\n    } // `@`\n\n\n    if (code === 64) {\n      effects.consume(code);\n      return label;\n    }\n\n    return nok(code);\n  }\n\n  function label(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, done, dotContinuation)(code);\n    }\n\n    if ( // `-`\n    code === 45 || // `_`\n    code === 95) {\n      return effects.check(punctuation, nok, dashOrUnderscoreContinuation)(code);\n    }\n\n    if (asciiAlphanumeric(code)) {\n      effects.consume(code);\n      return label;\n    }\n\n    return done(code);\n  }\n\n  function dotContinuation(code) {\n    effects.consume(code);\n    hasDot = true;\n    return label;\n  }\n\n  function dashOrUnderscoreContinuation(code) {\n    effects.consume(code);\n    return afterDashOrUnderscore;\n  }\n\n  function afterDashOrUnderscore(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, nok, dotContinuation)(code);\n    }\n\n    return label(code);\n  }\n\n  function done(code) {\n    if (hasDot) {\n      effects.exit('literalAutolinkEmail');\n      effects.exit('literalAutolink');\n      return ok(code);\n    }\n\n    return nok(code);\n  }\n}\n\nfunction tokenizeWwwAutolink(effects, ok, nok) {\n  var self = this;\n  return start;\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (code !== 87 && code - 32 !== 87 || !previousWww(self.previous) || previous(self.events)) {\n      return nok(code);\n    }\n\n    effects.enter('literalAutolink');\n    effects.enter('literalAutolinkWww'); // For `www.` we check instead of attempt, because when it matches, GH\n    // treats it as part of a domain (yes, it says a valid domain must come\n    // after `www.`, but that’s not how it’s implemented by them).\n\n    return effects.check(www, effects.attempt(domain, effects.attempt(path, done), nok), nok)(code);\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkWww');\n    effects.exit('literalAutolink');\n    return ok(code);\n  }\n}\n\nfunction tokenizeHttpAutolink(effects, ok, nok) {\n  var self = this;\n  return start;\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (code !== 72 && code - 32 !== 72 || !previousHttp(self.previous) || previous(self.events)) {\n      return nok(code);\n    }\n\n    effects.enter('literalAutolink');\n    effects.enter('literalAutolinkHttp');\n    effects.consume(code);\n    return t1;\n  }\n\n  function t1(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code);\n      return t2;\n    }\n\n    return nok(code);\n  }\n\n  function t2(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code);\n      return p;\n    }\n\n    return nok(code);\n  }\n\n  function p(code) {\n    // `p`\n    if (code === 80 || code - 32 === 80) {\n      effects.consume(code);\n      return s;\n    }\n\n    return nok(code);\n  }\n\n  function s(code) {\n    // `s`\n    if (code === 83 || code - 32 === 83) {\n      effects.consume(code);\n      return colon;\n    }\n\n    return colon(code);\n  }\n\n  function colon(code) {\n    // `:`\n    if (code === 58) {\n      effects.consume(code);\n      return slash1;\n    }\n\n    return nok(code);\n  }\n\n  function slash1(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code);\n      return slash2;\n    }\n\n    return nok(code);\n  }\n\n  function slash2(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code);\n      return after;\n    }\n\n    return nok(code);\n  }\n\n  function after(code) {\n    return asciiControl(code) || unicodeWhitespace(code) || unicodePunctuation(code) ? nok(code) : effects.attempt(domain, effects.attempt(path, done), nok)(code);\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkHttp');\n    effects.exit('literalAutolink');\n    return ok(code);\n  }\n}\n\nfunction tokenizeWww(effects, ok, nok) {\n  return start;\n\n  function start(code) {\n    // Assume a `w`.\n    effects.consume(code);\n    return w2;\n  }\n\n  function w2(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code);\n      return w3;\n    }\n\n    return nok(code);\n  }\n\n  function w3(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code);\n      return dot;\n    }\n\n    return nok(code);\n  }\n\n  function dot(code) {\n    // `.`\n    if (code === 46) {\n      effects.consume(code);\n      return after;\n    }\n\n    return nok(code);\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? nok(code) : ok(code);\n  }\n}\n\nfunction tokenizeDomain(effects, ok, nok) {\n  var hasUnderscoreInLastSegment;\n  var hasUnderscoreInLastLastSegment;\n  return domain;\n\n  function domain(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(namedCharacterReference, done, punctuationContinuation)(code);\n    }\n\n    if (code === 46\n    /* `.` */\n    || code === 95\n    /* `_` */\n    ) {\n        return effects.check(punctuation, done, punctuationContinuation)(code);\n      } // GH documents that only alphanumerics (other than `-`, `.`, and `_`) can\n    // occur, which sounds like ASCII only, but they also support `www.點看.com`,\n    // so that’s Unicode.\n    // Instead of some new production for Unicode alphanumerics, markdown\n    // already has that for Unicode punctuation and whitespace, so use those.\n\n\n    if (asciiControl(code) || unicodeWhitespace(code) || code !== 45\n    /* `-` */\n    && unicodePunctuation(code)) {\n      return done(code);\n    }\n\n    effects.consume(code);\n    return domain;\n  }\n\n  function punctuationContinuation(code) {\n    // `.`\n    if (code === 46) {\n      hasUnderscoreInLastLastSegment = hasUnderscoreInLastSegment;\n      hasUnderscoreInLastSegment = undefined;\n      effects.consume(code);\n      return domain;\n    } // `_`\n\n\n    if (code === 95) hasUnderscoreInLastSegment = true;\n    effects.consume(code);\n    return domain;\n  }\n\n  function done(code) {\n    if (!hasUnderscoreInLastLastSegment && !hasUnderscoreInLastSegment) {\n      return ok(code);\n    }\n\n    return nok(code);\n  }\n}\n\nfunction tokenizePath(effects, ok) {\n  var balance = 0;\n  return inPath;\n\n  function inPath(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(namedCharacterReference, ok, continuedPunctuation)(code);\n    } // `(`\n\n\n    if (code === 40) {\n      balance++;\n    } // `)`\n\n\n    if (code === 41) {\n      return effects.check(punctuation, parenAtPathEnd, continuedPunctuation)(code);\n    }\n\n    if (pathEnd(code)) {\n      return ok(code);\n    }\n\n    if (trailingPunctuation(code)) {\n      return effects.check(punctuation, ok, continuedPunctuation)(code);\n    }\n\n    effects.consume(code);\n    return inPath;\n  }\n\n  function continuedPunctuation(code) {\n    effects.consume(code);\n    return inPath;\n  }\n\n  function parenAtPathEnd(code) {\n    balance--;\n    return balance < 0 ? ok(code) : continuedPunctuation(code);\n  }\n}\n\nfunction tokenizeNamedCharacterReference(effects, ok, nok) {\n  return start;\n\n  function start(code) {\n    // Assume an ampersand.\n    effects.consume(code);\n    return inside;\n  }\n\n  function inside(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code);\n      return inside;\n    } // `;`\n\n\n    if (code === 59) {\n      effects.consume(code);\n      return after;\n    }\n\n    return nok(code);\n  }\n\n  function after(code) {\n    // If the named character reference is followed by the end of the path, it’s\n    // not continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code);\n  }\n}\n\nfunction tokenizePunctuation(effects, ok, nok) {\n  return start;\n\n  function start(code) {\n    // Always a valid trailing punctuation marker.\n    effects.consume(code);\n    return after;\n  }\n\n  function after(code) {\n    // Check the next.\n    if (trailingPunctuation(code)) {\n      effects.consume(code);\n      return after;\n    } // If the punctuation marker is followed by the end of the path, it’s not\n    // continued punctuation.\n\n\n    return pathEnd(code) ? ok(code) : nok(code);\n  }\n}\n\nfunction trailingPunctuation(code) {\n  return (// `!`\n    code === 33 || // `\"`\n    code === 34 || // `'`\n    code === 39 || // `)`\n    code === 41 || // `*`\n    code === 42 || // `,`\n    code === 44 || // `.`\n    code === 46 || // `:`\n    code === 58 || // `;`\n    code === 59 || // `<`\n    code === 60 || // `?`\n    code === 63 || // `_`.\n    code === 95 || // `~`\n    code === 126\n  );\n}\n\nfunction pathEnd(code) {\n  return (// EOF.\n    code === null || // CR, LF, CRLF, HT, VS.\n    code < 0 || // Space.\n    code === 32 || // `<`\n    code === 60\n  );\n}\n\nfunction gfmAtext(code) {\n  return code === 43\n  /* `+` */\n  || code === 45\n  /* `-` */\n  || code === 46\n  /* `.` */\n  || code === 95\n  /* `_` */\n  || asciiAlphanumeric(code);\n}\n\nfunction previousWww(code) {\n  return code === null || code < 0 || code === 32\n  /* ` ` */\n  || code === 40\n  /* `(` */\n  || code === 42\n  /* `*` */\n  || code === 95\n  /* `_` */\n  || code === 126\n  /* `~` */\n  ;\n}\n\nfunction previousHttp(code) {\n  return code === null || !asciiAlpha(code);\n}\n\nfunction previousEmail(code) {\n  return code !== 47\n  /* `/` */\n  && previousHttp(code);\n}\n\nfunction previous(events) {\n  var index = events.length;\n\n  while (index--) {\n    if ((events[index][1].type === 'labelLink' || events[index][1].type === 'labelImage') && !events[index][1]._balanced) {\n      return true;\n    }\n  }\n}","map":{"version":3,"sources":["/Users/gauravrawal/gaurav/udemy/jbook/node_modules/micromark-extension-gfm-autolink-literal/syntax.js"],"names":["asciiAlpha","require","asciiAlphanumeric","asciiControl","markdownLineEnding","unicodePunctuation","unicodeWhitespace","www","tokenize","tokenizeWww","partial","domain","tokenizeDomain","path","tokenizePath","punctuation","tokenizePunctuation","namedCharacterReference","tokenizeNamedCharacterReference","wwwAutolink","tokenizeWwwAutolink","previous","previousWww","httpAutolink","tokenizeHttpAutolink","previousHttp","emailAutolink","tokenizeEmailAutolink","previousEmail","text","exports","code","effects","ok","nok","self","hasDot","start","gfmAtext","events","enter","atext","consume","label","check","done","dotContinuation","dashOrUnderscoreContinuation","afterDashOrUnderscore","exit","attempt","t1","t2","p","s","colon","slash1","slash2","after","w2","w3","dot","hasUnderscoreInLastSegment","hasUnderscoreInLastLastSegment","punctuationContinuation","undefined","balance","inPath","continuedPunctuation","parenAtPathEnd","pathEnd","trailingPunctuation","inside","index","length","type","_balanced"],"mappings":"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","sourcesContent":["var asciiAlpha = require('micromark/dist/character/ascii-alpha')\nvar asciiAlphanumeric = require('micromark/dist/character/ascii-alphanumeric')\nvar asciiControl = require('micromark/dist/character/ascii-control')\nvar markdownLineEnding = require('micromark/dist/character/markdown-line-ending')\nvar unicodePunctuation = require('micromark/dist/character/unicode-punctuation')\nvar unicodeWhitespace = require('micromark/dist/character/unicode-whitespace')\n\nvar www = {tokenize: tokenizeWww, partial: true}\nvar domain = {tokenize: tokenizeDomain, partial: true}\nvar path = {tokenize: tokenizePath, partial: true}\nvar punctuation = {tokenize: tokenizePunctuation, partial: true}\nvar namedCharacterReference = {\n  tokenize: tokenizeNamedCharacterReference,\n  partial: true\n}\n\nvar wwwAutolink = {tokenize: tokenizeWwwAutolink, previous: previousWww}\nvar httpAutolink = {tokenize: tokenizeHttpAutolink, previous: previousHttp}\nvar emailAutolink = {tokenize: tokenizeEmailAutolink, previous: previousEmail}\n\nvar text = {}\n\n// Export hooked constructs.\nexports.text = text\n\n// `0`\nvar code = 48\n\n// While the code is smaller than `{`.\nwhile (code < 123) {\n  text[code] = emailAutolink\n  code++\n  // Jump from `:` -> `A`\n  if (code === 58) code = 65\n  // Jump from `[` -> `a`\n  else if (code === 91) code = 97\n}\n\n// `+`\ntext[43] = emailAutolink\n// `-`\ntext[45] = emailAutolink\n// `.`\ntext[46] = emailAutolink\n// `_`\ntext[95] = emailAutolink\n// `h`.\ntext[72] = [emailAutolink, httpAutolink]\ntext[104] = [emailAutolink, httpAutolink]\n// `w`.\ntext[87] = [emailAutolink, wwwAutolink]\ntext[119] = [emailAutolink, wwwAutolink]\n\nfunction tokenizeEmailAutolink(effects, ok, nok) {\n  var self = this\n  var hasDot\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      !gfmAtext(code) ||\n      !previousEmail(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkEmail')\n    return atext(code)\n  }\n\n  function atext(code) {\n    if (gfmAtext(code)) {\n      effects.consume(code)\n      return atext\n    }\n\n    // `@`\n    if (code === 64) {\n      effects.consume(code)\n      return label\n    }\n\n    return nok(code)\n  }\n\n  function label(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, done, dotContinuation)(code)\n    }\n\n    if (\n      // `-`\n      code === 45 ||\n      // `_`\n      code === 95\n    ) {\n      return effects.check(punctuation, nok, dashOrUnderscoreContinuation)(code)\n    }\n\n    if (asciiAlphanumeric(code)) {\n      effects.consume(code)\n      return label\n    }\n\n    return done(code)\n  }\n\n  function dotContinuation(code) {\n    effects.consume(code)\n    hasDot = true\n    return label\n  }\n\n  function dashOrUnderscoreContinuation(code) {\n    effects.consume(code)\n    return afterDashOrUnderscore\n  }\n\n  function afterDashOrUnderscore(code) {\n    // `.`\n    if (code === 46) {\n      return effects.check(punctuation, nok, dotContinuation)(code)\n    }\n\n    return label(code)\n  }\n\n  function done(code) {\n    if (hasDot) {\n      effects.exit('literalAutolinkEmail')\n      effects.exit('literalAutolink')\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizeWwwAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 87 && code - 32 !== 87) ||\n      !previousWww(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkWww')\n    // For `www.` we check instead of attempt, because when it matches, GH\n    // treats it as part of a domain (yes, it says a valid domain must come\n    // after `www.`, but that’s not how it’s implemented by them).\n    return effects.check(\n      www,\n      effects.attempt(domain, effects.attempt(path, done), nok),\n      nok\n    )(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkWww')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeHttpAutolink(effects, ok, nok) {\n  var self = this\n\n  return start\n\n  function start(code) {\n    /* istanbul ignore next - hooks. */\n    if (\n      (code !== 72 && code - 32 !== 72) ||\n      !previousHttp(self.previous) ||\n      previous(self.events)\n    ) {\n      return nok(code)\n    }\n\n    effects.enter('literalAutolink')\n    effects.enter('literalAutolinkHttp')\n    effects.consume(code)\n    return t1\n  }\n\n  function t1(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return t2\n    }\n\n    return nok(code)\n  }\n\n  function t2(code) {\n    // `t`\n    if (code === 84 || code - 32 === 84) {\n      effects.consume(code)\n      return p\n    }\n\n    return nok(code)\n  }\n\n  function p(code) {\n    // `p`\n    if (code === 80 || code - 32 === 80) {\n      effects.consume(code)\n      return s\n    }\n\n    return nok(code)\n  }\n\n  function s(code) {\n    // `s`\n    if (code === 83 || code - 32 === 83) {\n      effects.consume(code)\n      return colon\n    }\n\n    return colon(code)\n  }\n\n  function colon(code) {\n    // `:`\n    if (code === 58) {\n      effects.consume(code)\n      return slash1\n    }\n\n    return nok(code)\n  }\n\n  function slash1(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return slash2\n    }\n\n    return nok(code)\n  }\n\n  function slash2(code) {\n    // `/`\n    if (code === 47) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      unicodePunctuation(code)\n      ? nok(code)\n      : effects.attempt(domain, effects.attempt(path, done), nok)(code)\n  }\n\n  function done(code) {\n    effects.exit('literalAutolinkHttp')\n    effects.exit('literalAutolink')\n    return ok(code)\n  }\n}\n\nfunction tokenizeWww(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume a `w`.\n    effects.consume(code)\n    return w2\n  }\n\n  function w2(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return w3\n    }\n\n    return nok(code)\n  }\n\n  function w3(code) {\n    // `w`\n    if (code === 87 || code - 32 === 87) {\n      effects.consume(code)\n      return dot\n    }\n\n    return nok(code)\n  }\n\n  function dot(code) {\n    // `.`\n    if (code === 46) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    return code === null || markdownLineEnding(code) ? nok(code) : ok(code)\n  }\n}\n\nfunction tokenizeDomain(effects, ok, nok) {\n  var hasUnderscoreInLastSegment\n  var hasUnderscoreInLastLastSegment\n\n  return domain\n\n  function domain(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        done,\n        punctuationContinuation\n      )(code)\n    }\n\n    if (code === 46 /* `.` */ || code === 95 /* `_` */) {\n      return effects.check(punctuation, done, punctuationContinuation)(code)\n    }\n\n    // GH documents that only alphanumerics (other than `-`, `.`, and `_`) can\n    // occur, which sounds like ASCII only, but they also support `www.點看.com`,\n    // so that’s Unicode.\n    // Instead of some new production for Unicode alphanumerics, markdown\n    // already has that for Unicode punctuation and whitespace, so use those.\n    if (\n      asciiControl(code) ||\n      unicodeWhitespace(code) ||\n      (code !== 45 /* `-` */ && unicodePunctuation(code))\n    ) {\n      return done(code)\n    }\n\n    effects.consume(code)\n    return domain\n  }\n\n  function punctuationContinuation(code) {\n    // `.`\n    if (code === 46) {\n      hasUnderscoreInLastLastSegment = hasUnderscoreInLastSegment\n      hasUnderscoreInLastSegment = undefined\n      effects.consume(code)\n      return domain\n    }\n\n    // `_`\n    if (code === 95) hasUnderscoreInLastSegment = true\n\n    effects.consume(code)\n    return domain\n  }\n\n  function done(code) {\n    if (!hasUnderscoreInLastLastSegment && !hasUnderscoreInLastSegment) {\n      return ok(code)\n    }\n\n    return nok(code)\n  }\n}\n\nfunction tokenizePath(effects, ok) {\n  var balance = 0\n\n  return inPath\n\n  function inPath(code) {\n    // `&`\n    if (code === 38) {\n      return effects.check(\n        namedCharacterReference,\n        ok,\n        continuedPunctuation\n      )(code)\n    }\n\n    // `(`\n    if (code === 40) {\n      balance++\n    }\n\n    // `)`\n    if (code === 41) {\n      return effects.check(\n        punctuation,\n        parenAtPathEnd,\n        continuedPunctuation\n      )(code)\n    }\n\n    if (pathEnd(code)) {\n      return ok(code)\n    }\n\n    if (trailingPunctuation(code)) {\n      return effects.check(punctuation, ok, continuedPunctuation)(code)\n    }\n\n    effects.consume(code)\n    return inPath\n  }\n\n  function continuedPunctuation(code) {\n    effects.consume(code)\n    return inPath\n  }\n\n  function parenAtPathEnd(code) {\n    balance--\n    return balance < 0 ? ok(code) : continuedPunctuation(code)\n  }\n}\n\nfunction tokenizeNamedCharacterReference(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Assume an ampersand.\n    effects.consume(code)\n    return inside\n  }\n\n  function inside(code) {\n    if (asciiAlpha(code)) {\n      effects.consume(code)\n      return inside\n    }\n\n    // `;`\n    if (code === 59) {\n      effects.consume(code)\n      return after\n    }\n\n    return nok(code)\n  }\n\n  function after(code) {\n    // If the named character reference is followed by the end of the path, it’s\n    // not continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction tokenizePunctuation(effects, ok, nok) {\n  return start\n\n  function start(code) {\n    // Always a valid trailing punctuation marker.\n    effects.consume(code)\n    return after\n  }\n\n  function after(code) {\n    // Check the next.\n    if (trailingPunctuation(code)) {\n      effects.consume(code)\n      return after\n    }\n\n    // If the punctuation marker is followed by the end of the path, it’s not\n    // continued punctuation.\n    return pathEnd(code) ? ok(code) : nok(code)\n  }\n}\n\nfunction trailingPunctuation(code) {\n  return (\n    // `!`\n    code === 33 ||\n    // `\"`\n    code === 34 ||\n    // `'`\n    code === 39 ||\n    // `)`\n    code === 41 ||\n    // `*`\n    code === 42 ||\n    // `,`\n    code === 44 ||\n    // `.`\n    code === 46 ||\n    // `:`\n    code === 58 ||\n    // `;`\n    code === 59 ||\n    // `<`\n    code === 60 ||\n    // `?`\n    code === 63 ||\n    // `_`.\n    code === 95 ||\n    // `~`\n    code === 126\n  )\n}\n\nfunction pathEnd(code) {\n  return (\n    // EOF.\n    code === null ||\n    // CR, LF, CRLF, HT, VS.\n    code < 0 ||\n    // Space.\n    code === 32 ||\n    // `<`\n    code === 60\n  )\n}\n\nfunction gfmAtext(code) {\n  return (\n    code === 43 /* `+` */ ||\n    code === 45 /* `-` */ ||\n    code === 46 /* `.` */ ||\n    code === 95 /* `_` */ ||\n    asciiAlphanumeric(code)\n  )\n}\n\nfunction previousWww(code) {\n  return (\n    code === null ||\n    code < 0 ||\n    code === 32 /* ` ` */ ||\n    code === 40 /* `(` */ ||\n    code === 42 /* `*` */ ||\n    code === 95 /* `_` */ ||\n    code === 126 /* `~` */\n  )\n}\n\nfunction previousHttp(code) {\n  return code === null || !asciiAlpha(code)\n}\n\nfunction previousEmail(code) {\n  return code !== 47 /* `/` */ && previousHttp(code)\n}\n\nfunction previous(events) {\n  var index = events.length\n\n  while (index--) {\n    if (\n      (events[index][1].type === 'labelLink' ||\n        events[index][1].type === 'labelImage') &&\n      !events[index][1]._balanced\n    ) {\n      return true\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}