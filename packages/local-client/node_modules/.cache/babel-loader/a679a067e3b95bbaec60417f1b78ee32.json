{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _ = _interopRequireDefault(require(\"..\"));\n\nvar _utils = require(\"../utils\");\n\nfunction ControlledEditor(_ref) {\n  var providedValue = _ref.value,\n      onChange = _ref.onChange,\n      editorDidMount = _ref.editorDidMount,\n      props = (0, _objectWithoutProperties2.default)(_ref, [\"value\", \"onChange\", \"editorDidMount\"]);\n  var editor = (0, _react.useRef)(null);\n  var listener = (0, _react.useRef)(null);\n  var value = (0, _react.useRef)(providedValue); // to avoid unnecessary updates in `handleEditorModelChange`\n  // (that depends on the `current value` and will trigger to update `attachChangeEventListener`,\n  // thus, the listener will be disposed and attached again for every value change)\n  // the current value is stored in ref (useRef) instead of being a dependency of `handleEditorModelChange`\n\n  value.current = providedValue;\n  var handleEditorModelChange = (0, _react.useCallback)(function (event) {\n    var editorValue = editor.current.getValue();\n\n    if (value.current !== editorValue) {\n      var directChange = onChange(event, editorValue);\n\n      if (typeof directChange === 'string' && editorValue !== directChange) {\n        editor.current.setValue(directChange);\n      }\n    }\n  }, [onChange]);\n  var attachChangeEventListener = (0, _react.useCallback)(function () {\n    var _editor$current;\n\n    listener.current = (_editor$current = editor.current) === null || _editor$current === void 0 ? void 0 : _editor$current.onDidChangeModelContent(handleEditorModelChange);\n  }, [handleEditorModelChange]);\n  (0, _react.useEffect)(function () {\n    attachChangeEventListener();\n    return function () {\n      var _listener$current;\n\n      return (_listener$current = listener.current) === null || _listener$current === void 0 ? void 0 : _listener$current.dispose();\n    };\n  }, [attachChangeEventListener]);\n  var handleEditorDidMount = (0, _react.useCallback)(function (getValue, _editor) {\n    editor.current = _editor;\n    attachChangeEventListener();\n    editorDidMount(getValue, _editor);\n  }, [attachChangeEventListener, editorDidMount]);\n  return /*#__PURE__*/_react.default.createElement(_.default, (0, _extends2.default)({\n    value: providedValue,\n    editorDidMount: handleEditorDidMount,\n    _isControlledMode: true\n  }, props));\n}\n\nControlledEditor.propTypes = {\n  value: _propTypes.default.string,\n  editorDidMount: _propTypes.default.func,\n  onChange: _propTypes.default.func\n};\nControlledEditor.defaultProps = {\n  editorDidMount: _utils.noop,\n  onChange: _utils.noop\n};\nvar _default = ControlledEditor;\nexports.default = _default;","map":{"version":3,"sources":["/Users/gauravrawal/gaurav/udemy/jbook/node_modules/@monaco-editor/react/lib/ControlledEditor/ControlledEditor.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_extends2","_objectWithoutProperties2","_react","_propTypes","_","_utils","ControlledEditor","_ref","providedValue","onChange","editorDidMount","props","editor","useRef","listener","current","handleEditorModelChange","useCallback","event","editorValue","getValue","directChange","setValue","attachChangeEventListener","_editor$current","onDidChangeModelContent","useEffect","_listener$current","dispose","handleEditorDidMount","_editor","createElement","_isControlledMode","propTypes","string","func","defaultProps","noop","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _ = _interopRequireDefault(require(\"..\"));\n\nvar _utils = require(\"../utils\");\n\nfunction ControlledEditor(_ref) {\n  var providedValue = _ref.value,\n      onChange = _ref.onChange,\n      editorDidMount = _ref.editorDidMount,\n      props = (0, _objectWithoutProperties2.default)(_ref, [\"value\", \"onChange\", \"editorDidMount\"]);\n  var editor = (0, _react.useRef)(null);\n  var listener = (0, _react.useRef)(null);\n  var value = (0, _react.useRef)(providedValue); // to avoid unnecessary updates in `handleEditorModelChange`\n  // (that depends on the `current value` and will trigger to update `attachChangeEventListener`,\n  // thus, the listener will be disposed and attached again for every value change)\n  // the current value is stored in ref (useRef) instead of being a dependency of `handleEditorModelChange`\n\n  value.current = providedValue;\n  var handleEditorModelChange = (0, _react.useCallback)(function (event) {\n    var editorValue = editor.current.getValue();\n\n    if (value.current !== editorValue) {\n      var directChange = onChange(event, editorValue);\n\n      if (typeof directChange === 'string' && editorValue !== directChange) {\n        editor.current.setValue(directChange);\n      }\n    }\n  }, [onChange]);\n  var attachChangeEventListener = (0, _react.useCallback)(function () {\n    var _editor$current;\n\n    listener.current = (_editor$current = editor.current) === null || _editor$current === void 0 ? void 0 : _editor$current.onDidChangeModelContent(handleEditorModelChange);\n  }, [handleEditorModelChange]);\n  (0, _react.useEffect)(function () {\n    attachChangeEventListener();\n    return function () {\n      var _listener$current;\n\n      return (_listener$current = listener.current) === null || _listener$current === void 0 ? void 0 : _listener$current.dispose();\n    };\n  }, [attachChangeEventListener]);\n  var handleEditorDidMount = (0, _react.useCallback)(function (getValue, _editor) {\n    editor.current = _editor;\n    attachChangeEventListener();\n    editorDidMount(getValue, _editor);\n  }, [attachChangeEventListener, editorDidMount]);\n  return /*#__PURE__*/_react.default.createElement(_.default, (0, _extends2.default)({\n    value: providedValue,\n    editorDidMount: handleEditorDidMount,\n    _isControlledMode: true\n  }, props));\n}\n\nControlledEditor.propTypes = {\n  value: _propTypes.default.string,\n  editorDidMount: _propTypes.default.func,\n  onChange: _propTypes.default.func\n};\nControlledEditor.defaultProps = {\n  editorDidMount: _utils.noop,\n  onChange: _utils.noop\n};\nvar _default = ControlledEditor;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}