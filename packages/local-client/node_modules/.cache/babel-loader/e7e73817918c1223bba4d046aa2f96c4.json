{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _MonacoContainer = _interopRequireDefault(require(\"../MonacoContainer\"));\n\nvar _utils = require(\"../utils\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _themes = _interopRequireDefault(require(\"../config/themes\"));\n\nfunction Editor(_ref) {\n  var value = _ref.value,\n      language = _ref.language,\n      editorDidMount = _ref.editorDidMount,\n      theme = _ref.theme,\n      line = _ref.line,\n      width = _ref.width,\n      height = _ref.height,\n      loading = _ref.loading,\n      options = _ref.options,\n      overrideServices = _ref.overrideServices,\n      _isControlledMode = _ref._isControlledMode,\n      className = _ref.className,\n      wrapperClassName = _ref.wrapperClassName;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      isEditorReady = _useState2[0],\n      setIsEditorReady = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      isMonacoMounting = _useState4[0],\n      setIsMonacoMounting = _useState4[1];\n\n  var editorRef = (0, _react.useRef)(null);\n  var monacoRef = (0, _react.useRef)(null);\n  var containerRef = (0, _react.useRef)(null);\n  var editorDidMountRef = (0, _react.useRef)(editorDidMount);\n  (0, _hooks.useMount)(function () {\n    var cancelable = _utils.monaco.init();\n\n    cancelable.then(function (monaco) {\n      return (monacoRef.current = monaco) && setIsMonacoMounting(false);\n    }).catch(function (error) {\n      return (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error);\n    });\n    return function () {\n      return editorRef.current ? disposeEditor() : cancelable.cancel();\n    };\n  });\n  (0, _hooks.useUpdate)(function () {\n    editorRef.current.updateOptions(options);\n  }, [options], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    if (editorRef.current.getOption(monacoRef.current.editor.EditorOption.readOnly)) {\n      editorRef.current.setValue(value);\n    } else {\n      if (value !== editorRef.current.getValue()) {\n        editorRef.current.executeEdits('', [{\n          range: editorRef.current.getModel().getFullModelRange(),\n          text: value,\n          forceMoveMarkers: true\n        }]);\n\n        if (_isControlledMode) {\n          var model = editorRef.current.getModel();\n          model.forceTokenization(model.getLineCount());\n        }\n\n        editorRef.current.pushUndoStop();\n      }\n    }\n  }, [value], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    monacoRef.current.editor.setModelLanguage(editorRef.current.getModel(), language);\n  }, [language], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    editorRef.current.setScrollPosition({\n      scrollTop: line\n    });\n  }, [line], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    monacoRef.current.editor.setTheme(theme);\n  }, [theme], isEditorReady);\n  var createEditor = (0, _react.useCallback)(function () {\n    editorRef.current = monacoRef.current.editor.create(containerRef.current, (0, _objectSpread2.default)({\n      value: value,\n      language: language,\n      automaticLayout: true\n    }, options), overrideServices);\n    monacoRef.current.editor.defineTheme('dark', _themes.default['night-dark']);\n    monacoRef.current.editor.setTheme(theme);\n    setIsEditorReady(true);\n  }, [language, options, overrideServices, theme, value]);\n  (0, _react.useEffect)(function () {\n    if (isEditorReady) {\n      editorDidMountRef.current(editorRef.current.getValue.bind(editorRef.current), editorRef.current);\n    }\n  }, [isEditorReady]);\n  (0, _react.useEffect)(function () {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  var disposeEditor = function disposeEditor() {\n    return editorRef.current.dispose();\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_MonacoContainer.default, {\n    width: width,\n    height: height,\n    isEditorReady: isEditorReady,\n    loading: loading,\n    _ref: containerRef,\n    className: className,\n    wrapperClassName: wrapperClassName\n  });\n}\n\nEditor.propTypes = {\n  value: _propTypes.default.string,\n  language: _propTypes.default.string,\n  editorDidMount: _propTypes.default.func,\n  theme: _propTypes.default.string,\n  line: _propTypes.default.number,\n  width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  loading: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.string]),\n  options: _propTypes.default.object,\n  className: _propTypes.default.string,\n  wrapperClassName: _propTypes.default.string,\n  overrideServices: _propTypes.default.object,\n  _isControlledMode: _propTypes.default.bool\n};\nEditor.defaultProps = {\n  editorDidMount: _utils.noop,\n  theme: 'light',\n  width: '100%',\n  height: '100%',\n  loading: 'Loading...',\n  options: {},\n  overrideServices: {},\n  _isControlledMode: false\n};\nvar _default = Editor;\nexports.default = _default;","map":{"version":3,"sources":["/Users/gauravrawal/gaurav/udemy/github/react-snippy/node_modules/@monaco-editor/react/lib/Editor/Editor.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","default","_objectSpread2","_slicedToArray2","_react","_propTypes","_MonacoContainer","_utils","_hooks","_themes","Editor","_ref","language","editorDidMount","theme","line","width","height","loading","options","overrideServices","_isControlledMode","className","wrapperClassName","_useState","useState","_useState2","isEditorReady","setIsEditorReady","_useState3","_useState4","isMonacoMounting","setIsMonacoMounting","editorRef","useRef","monacoRef","containerRef","editorDidMountRef","useMount","cancelable","monaco","init","then","current","catch","error","type","console","disposeEditor","cancel","useUpdate","updateOptions","getOption","editor","EditorOption","readOnly","setValue","getValue","executeEdits","range","getModel","getFullModelRange","text","forceMoveMarkers","model","forceTokenization","getLineCount","pushUndoStop","setModelLanguage","setScrollPosition","scrollTop","setTheme","createEditor","useCallback","create","automaticLayout","defineTheme","useEffect","bind","dispose","createElement","propTypes","string","func","number","oneOfType","element","object","bool","defaultProps","noop","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _MonacoContainer = _interopRequireDefault(require(\"../MonacoContainer\"));\n\nvar _utils = require(\"../utils\");\n\nvar _hooks = require(\"../hooks\");\n\nvar _themes = _interopRequireDefault(require(\"../config/themes\"));\n\nfunction Editor(_ref) {\n  var value = _ref.value,\n      language = _ref.language,\n      editorDidMount = _ref.editorDidMount,\n      theme = _ref.theme,\n      line = _ref.line,\n      width = _ref.width,\n      height = _ref.height,\n      loading = _ref.loading,\n      options = _ref.options,\n      overrideServices = _ref.overrideServices,\n      _isControlledMode = _ref._isControlledMode,\n      className = _ref.className,\n      wrapperClassName = _ref.wrapperClassName;\n\n  var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      isEditorReady = _useState2[0],\n      setIsEditorReady = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      isMonacoMounting = _useState4[0],\n      setIsMonacoMounting = _useState4[1];\n\n  var editorRef = (0, _react.useRef)(null);\n  var monacoRef = (0, _react.useRef)(null);\n  var containerRef = (0, _react.useRef)(null);\n  var editorDidMountRef = (0, _react.useRef)(editorDidMount);\n  (0, _hooks.useMount)(function () {\n    var cancelable = _utils.monaco.init();\n\n    cancelable.then(function (monaco) {\n      return (monacoRef.current = monaco) && setIsMonacoMounting(false);\n    }).catch(function (error) {\n      return (error === null || error === void 0 ? void 0 : error.type) !== 'cancelation' && console.error('Monaco initialization: error:', error);\n    });\n    return function () {\n      return editorRef.current ? disposeEditor() : cancelable.cancel();\n    };\n  });\n  (0, _hooks.useUpdate)(function () {\n    editorRef.current.updateOptions(options);\n  }, [options], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    if (editorRef.current.getOption(monacoRef.current.editor.EditorOption.readOnly)) {\n      editorRef.current.setValue(value);\n    } else {\n      if (value !== editorRef.current.getValue()) {\n        editorRef.current.executeEdits('', [{\n          range: editorRef.current.getModel().getFullModelRange(),\n          text: value,\n          forceMoveMarkers: true\n        }]);\n\n        if (_isControlledMode) {\n          var model = editorRef.current.getModel();\n          model.forceTokenization(model.getLineCount());\n        }\n\n        editorRef.current.pushUndoStop();\n      }\n    }\n  }, [value], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    monacoRef.current.editor.setModelLanguage(editorRef.current.getModel(), language);\n  }, [language], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    editorRef.current.setScrollPosition({\n      scrollTop: line\n    });\n  }, [line], isEditorReady);\n  (0, _hooks.useUpdate)(function () {\n    monacoRef.current.editor.setTheme(theme);\n  }, [theme], isEditorReady);\n  var createEditor = (0, _react.useCallback)(function () {\n    editorRef.current = monacoRef.current.editor.create(containerRef.current, (0, _objectSpread2.default)({\n      value: value,\n      language: language,\n      automaticLayout: true\n    }, options), overrideServices);\n    monacoRef.current.editor.defineTheme('dark', _themes.default['night-dark']);\n    monacoRef.current.editor.setTheme(theme);\n    setIsEditorReady(true);\n  }, [language, options, overrideServices, theme, value]);\n  (0, _react.useEffect)(function () {\n    if (isEditorReady) {\n      editorDidMountRef.current(editorRef.current.getValue.bind(editorRef.current), editorRef.current);\n    }\n  }, [isEditorReady]);\n  (0, _react.useEffect)(function () {\n    !isMonacoMounting && !isEditorReady && createEditor();\n  }, [isMonacoMounting, isEditorReady, createEditor]);\n\n  var disposeEditor = function disposeEditor() {\n    return editorRef.current.dispose();\n  };\n\n  return /*#__PURE__*/_react.default.createElement(_MonacoContainer.default, {\n    width: width,\n    height: height,\n    isEditorReady: isEditorReady,\n    loading: loading,\n    _ref: containerRef,\n    className: className,\n    wrapperClassName: wrapperClassName\n  });\n}\n\nEditor.propTypes = {\n  value: _propTypes.default.string,\n  language: _propTypes.default.string,\n  editorDidMount: _propTypes.default.func,\n  theme: _propTypes.default.string,\n  line: _propTypes.default.number,\n  width: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  height: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),\n  loading: _propTypes.default.oneOfType([_propTypes.default.element, _propTypes.default.string]),\n  options: _propTypes.default.object,\n  className: _propTypes.default.string,\n  wrapperClassName: _propTypes.default.string,\n  overrideServices: _propTypes.default.object,\n  _isControlledMode: _propTypes.default.bool\n};\nEditor.defaultProps = {\n  editorDidMount: _utils.noop,\n  theme: 'light',\n  width: '100%',\n  height: '100%',\n  loading: 'Loading...',\n  options: {},\n  overrideServices: {},\n  _isControlledMode: false\n};\nvar _default = Editor;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}